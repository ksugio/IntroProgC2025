# プログラミングの学習　講義資料

## コンパイル

```
gcc tokei.c tokeilib.c -o tokei.exe
```

## 使い方
コマンドライン
```
tokei [filename] [command] [op1] [op2] [op3] ...
```
[command]で以下のコマンドを指定することができる。
- disp : テーブルを表示する
- mean : 平均を計算する [op1:header]
- min : 最小値を計算する [op1:header]
- max : 最大値を計算する [op1:header]
- med : 中央値を計算する [op1:header]
- var : 分散を計算する [op1:header] [op2:unbias(0|1)]
- std : 標準偏差を計算する [op1:header] [op2:unbias(0|1)]
- summ : 統計値のまとめを表示する [op1:unbias(0|1)]
- hist : ヒストグラムを表示する [op1:header] [op2:bins]
- score : 標準化したテーブルを表示する [op1:unbias(0|1)] [op2:mu] [op3:sigma]
- corr : ピアソン相関係数を計算する [op1:header1] [op2:header2]
- cmap : ピアソン相関係数マップを表示する
- regr : 重回帰分析を行う [op1:obj_header] [op2:feat_header1] [op3:feat_header2] ...

### TestA 列の平均を計算する場合
```
tokei kaso_seiseki.csv mean TestA
```
ここで，op1 の は平均を求めたい列のヘッダーを指定する。

[出力]
```
Mean 60.270000
```

### TestB 列の分散を計算する場合
```
tokei kaso_seiseki.csv var TestB 0
```
ここで，op1 は分散を求めたい列のヘッダーを指定する。
op2 は 0 を指定すると標本分散，1 を指定すると不偏分散を計算する。

[出力]
```
Var 235.841900
```

### 統計値のまとめを表示する場合
```
tokei kaso_seiseki.csv summ 0
```
ここで，op1 は 0 を指定すると標本分散（標準偏差），1 を指定すると不偏分散（不偏標準偏差）を計算する。

[出力]
```
                TestA      TestB      TestC      TestD      TestE      Total
      Mean    60.2700    63.5900    51.0400    50.6700    50.3300   275.9000
       Var   319.6971   235.8419   192.7984   204.3611   370.2011  4445.4302
       Std    17.8801    15.3571    13.8852    14.2955    19.2406    66.6741
       Min    12.0000    24.0000    16.0000    11.0000     2.0000    98.0000
    Median    62.0000    63.5000    53.0000    53.0000    52.0000   289.0000
       Max    92.0000    98.0000    79.0000    82.0000    88.0000   407.0000
```

### TestC 列のヒストグラムを表示する場合
```
tokei kaso_seiseki.csv hist TestC 10
```
ここで，op1 はヒストグラムを表示したい列のヘッダーを指定する。
op2 はビン数を指定する。

[出力]
```
   16.0000    2 **
   22.3000    4 ****
   28.6000   10 **********
   34.9000   12 ************
   41.2000   12 ************
   47.5000   13 *************
   53.8000   20 ********************
   60.1000   13 *************
   66.4000    8 ********
   72.7000    6 ******
   79.0000
```

### 標準化したテーブルを表示する場合
```
tokei kaso_seiseki.csv score 0 50 10
```
ここで，op1 は 0 を指定すると標準偏差，1 を指定すると不偏標準偏差を計算に用いる。
op2 は標準化された値の平均，op3 は標準化された値の標準偏差を指定する。
op2 を 50，op3 を 10 とすると偏差値を計算する。

[出力]
```
        ID      TestA      TestB      TestC      TestD      TestE      Total
    B63001    54.8825    43.7553    45.6500    50.9304    58.6640    51.6648
    B63002    36.4262    60.0344    53.5722    35.5409    38.9141    43.1158
    B63003    66.0682    65.2437    66.5356    71.9160    62.8218    69.6628
    B63004    46.4933    45.7088    42.0491    48.1323    42.0325    43.7157
    B63005    42.0191    48.3135    41.3289    43.2356    37.8746    40.7160
    B63006    59.9161    45.0577    55.0125    55.1275    56.5850    55.5644
    B63007    59.3568    43.7553    45.6500    52.3294    61.7824    54.0645
    B63008    42.5783    72.4065    60.7741    55.1275    42.5522    54.3645
    B63009    49.8490    57.4298    60.7741    55.1275    51.9074    55.5644
    B63010    24.6813    39.8484    33.4068    30.6442    27.4799    26.7676
    ...
```

### TestA 列とTestB 列の相関係数を計算する場合
```
tokei kaso_seiseki.csv corr TestA TestB
```
ここで，op1 および op2 は相関係数を求めたい列のヘッダーを指定する。

[出力]
```
Corr 0.145275
```

### 相関係数マップを表示する場合
```
tokei kaso_seiseki.csv cmap
```

[出力]
```
                TestA      TestB      TestC      TestD      TestE      Total
     TestA     1.0000     0.1453     0.5282     0.8782     0.9539     0.8752
     TestB     0.1453     1.0000     0.8460     0.4819     0.1398     0.5891
     TestC     0.5282     0.8460     1.0000     0.7228     0.5111     0.8472
     TestD     0.8782     0.4819     0.7228     1.0000     0.8365     0.9528
     TestE     0.9539     0.1398     0.5111     0.8365     1.0000     0.8624
     Total     0.8752     0.5891     0.8472     0.9528     0.8624     1.0000
```

### TestC 列を目的変数，TestA 列とTestB 列を説明変数として重回帰分析を行う場合
```
tokei kaso_seiseki.csv regr TestC TestA TestB
```
op1 に目的変数の列のヘッダーを指定し，それ以降に説明変数の列のヘッダーを指定する。

[出力]
```
     TestA     TestB |         R2
    0.3505    0.7223 |     0.8689
```
